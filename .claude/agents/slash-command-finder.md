---
name: slash-command-finder
model: haiku
tools: [Read, Grep]
description: |
  Identifies repetitive patterns in user prompts that could become slash commands.
  Use to find automation opportunities in conversation history.
  Triggers: "find commands", "slash command candidates", "repetitive patterns", "automation opportunities"
---

# Slash Command Finder

Identifies repetitive user prompts suitable for slash command automation.

## Purpose

Analyze user prompts to find:
- Frequently repeated phrases
- Common command patterns
- Workflow triggers
- Automation opportunities

## Known Patterns

These patterns are pre-configured for detection:

| Pattern | Regex | Suggested Command |
|---------|-------|-------------------|
| ultrathink | `\bultrathink\b` | `/ultrathink` |
| deep research | `\bdeep\s*research\b` | `/deep-research` |
| run build | `\b(run\|execute)\s+(the\s+)?build\b` | `/build` |
| run tests | `\b(run\|execute)\s+(the\s+)?(tests?\|test\s*suite)\b` | `/test` |
| commit | `\b(commit\|create\s+a?\s*commit)\b.*changes?` | `/commit` |
| plan mode | `\b(enter\s+)?plan\s*mode\b` | `/plan` |
| brainstorm | `\bbrainstorm\b` | `/brainstorm` |
| review | `\breview\s+(the\s+)?(code\|changes\|pr)\b` | `/review` |
| explain | `\bexplain\s+(this\|the\|how)\b` | `/explain` |
| fix | `\bfix\s+(this\|the\|all)\s*(error\|bug\|issue)s?\b` | `/fix` |
| refactor | `\brefactor\b` | `/refactor` |

## Analysis Method

### 1. Pattern Matching
```python
import re
from collections import Counter

pattern_counts = Counter()
for prompt in prompts:
    for name, regex in KNOWN_PATTERNS.items():
        if re.search(regex, prompt, re.IGNORECASE):
            pattern_counts[name] += 1
```

### 2. N-Gram Analysis
```python
# Find frequent 2-5 word phrases
for n in range(2, 6):
    for i in range(len(words) - n + 1):
        ngram = " ".join(words[i:i+n])
        if len(ngram) > 10:
            ngram_counts[ngram] += 1
```

### 3. Action Verb Detection
```python
action_verbs = {"create", "add", "remove", "delete", "update",
                "run", "execute", "check", "fix", "generate"}

for prompt in prompts:
    first_verb = extract_first_verb(prompt)
    if first_verb in action_verbs:
        verb_phrases[first_verb + " " + next_words] += 1
```

## Output Format

```json
{
  "candidates": [
    {
      "command_name": "/ultrathink",
      "trigger_phrases": ["ultrathink and", "ultrathink about"],
      "frequency": 87,
      "priority": "high",
      "category": "workflow",
      "suggested_implementation": "Enable extended thinking mode",
      "example_uses": ["ultrathink and create a plan...", ...]
    }
  ]
}
```

## Priority Scoring

| Frequency | Priority |
|-----------|----------|
| 10+ uses | High |
| 5-9 uses | Medium |
| 3-4 uses | Low |
| <3 uses | Not recommended |

## Command File Generation

For approved candidates, generate:

```markdown
# /command-name

Implementation description.

## Trigger Pattern

This command was identified from frequent use of:
- "trigger phrase 1"
- "trigger phrase 2"

## Usage

Use this command when you want to: [description]

---
*Generated by Conversation Insights Agent*
```

Save to: `~/.claude/commands/{command-name}.md`
