
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python library for automating HEC-RAS operations">
      
      
        <meta name="author" content="William Katzenmeyer, P.E., C.F.M.">
      
      
        <link rel="canonical" href="https://gpt-cmdr.github.io/ras-commander/notebooks/920_terrain_creation/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/ras-commander_logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Terrain Creation with USGS 3DEP Data - RAS Commander Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#terrain-creation-with-usgs-3dep-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="RAS Commander Documentation" class="md-header__button md-logo" aria-label="RAS Commander Documentation" data-md-component="logo">
      
  <img src="../../assets/ras-commander_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RAS Commander Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Terrain Creation with USGS 3DEP Data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/gpt-cmdr/ras-commander" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    gpt-cmdr/ras-commander
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/installation/" class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
  
  Example Notebooks

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../parallel-compute/" class="md-tabs__link">
          
  
  
  Parallel Compute

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/file-formats/" class="md-tabs__link">
          
  
  
  RAS Data Formats

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cognitive-infrastructure/" class="md-tabs__link">
          
  
  
  Cognitive Infrastructure

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/llm-development/" class="md-tabs__link">
          
  
  
  LLM Forward Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../about/acknowledgments/" class="md-tabs__link">
          
  
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="RAS Commander Documentation" class="md-nav__button md-logo" aria-label="RAS Commander Documentation" data-md-component="logo">
      
  <img src="../../assets/ras-commander_logo.svg" alt="logo">

    </a>
    RAS Commander Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gpt-cmdr/ras-commander" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    gpt-cmdr/ras-commander
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/project-initialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Initialization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/plan-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plan Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/workflows-and-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflows & Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/boundary-conditions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Boundary Conditions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/spatial-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spatial Data & RASMapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/hdf-data-extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HDF Data Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/geometry-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Geometry Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/steady-flow-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Steady Flow Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/dam-breach-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dam Breach Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/dss-operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DSS Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/usgs-gauge-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USGS Gauge Data Retrieval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/gridded-precipitation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gridded Historic Precipitation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/atlas14-precipitation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Atlas 14 Precipitation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/project-file-validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project File Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_16" >
        
          
          <label class="md-nav__link" for="__nav_2_16" id="__nav_2_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Quality Assurance (RasCheck)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    Quality Assurance (RasCheck)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/nt-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    NT Check (Manning's n)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/xs-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    XS Check (Cross Sections)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/structure-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structure Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/floodway-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Floodway Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/quality-assurance/profiles-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/legacy-com-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Legacy COM Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/remote-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Example Notebooks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Example Notebooks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Basic Automation & Project Data (100s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Basic Automation & Project Data (100s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../100_using_ras_examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using RasExamples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../101_project_initialization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Initialization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../102_multiple_project_operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiple Project Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../103_plan_and_geometry_operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plan and Geometry Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../104_plan_parameter_operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plan Parameter Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../110_single_plan_execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Single Plan Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../111_executing_plan_sets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Executing Plan Sets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../112_sequential_plan_execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sequential Plan Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../113_parallel_execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallel Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../120_automating_ras_with_win32com/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Win32COM Automation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../121_legacy_hecrascontroller_and_rascontrol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Legacy HECRASController
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Geometry Parsing & Operations (200s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Geometry Parsing & Operations (200s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../201_1d_plaintext_geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1D Plaintext Geometry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../202_2d_plaintext_geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2D Plaintext Geometry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../210_fixit_blocked_obstructions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fixit Blocked Obstructions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Boundary Conditions (300s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Boundary Conditions (300s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../300_unsteady_flow_operations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unsteady Flow Operations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../310_dss_boundary_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DSS Boundary Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../311_validating_dss_paths/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DSS Path Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../320_1d_boundary_condition_visualization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1D Boundary Visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    HDF Data Operations (400s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    HDF Data Operations (400s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../400_1d_hdf_data_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1D HDF Data Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../401_steady_flow_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Steady Flow Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../410_2d_hdf_data_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2D HDF Data Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../411_2d_hdf_pipes_and_pumps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipes and Pumps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../412_2d_detail_face_data_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2D Face Data Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../420_breach_results_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Breach Results Extraction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Remote Plan Execution (500s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Remote Plan Execution (500s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../500_remote_execution_psexec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Execution (PsExec)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced Data Analysis (600s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced Data Analysis (600s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../600_floodplain_mapping_gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Floodplain Mapping GUI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../601_floodplain_mapping_rasprocess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Floodplain Mapping RasProcess
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../602_floodplain_mapping_python_gis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Floodplain Mapping Python GIS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../610_fluvial_pluvial_delineation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fluvial-Pluvial Delineation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../611_validating_map_layers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Map Layer Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sensitivity & Benchmarking (700s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sensitivity & Benchmarking (700s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../700_core_sensitivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Sensitivity Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../701_benchmarking_versions_6.1_to_6.6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Version Benchmarking (6.1-6.6)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../710_mannings_sensitivity_bulk_analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manning's n Bulk Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../711_mannings_sensitivity_multi_interval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manning's n Multi-Interval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../720_precipitation_methods_comprehensive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Precipitation Methods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../721_Precipitation_Hyetograph_Comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hyetograph Comparison
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../722_gridded_precipitation_atlas14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gridded Precipitation Atlas14
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../725_atlas14_spatial_variance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Atlas 14 Spatial Variance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Quality Assurance (800s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Quality Assurance (800s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../800_quality_assurance_rascheck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    RasCheck Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../801_advanced_structure_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Structure Validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_10" >
        
          
          <label class="md-nav__link" for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    External Data Integrations (900s)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    External Data Integrations (900s)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../900_aorc_precipitation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AORC Precipitation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../901_aorc_precipitation_catalog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AORC Precipitation Catalog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../910_usgs_gauge_catalog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USGS Gauge Catalog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../911_usgs_gauge_data_integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USGS Gauge Data Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../912_usgs_real_time_monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    USGS Real-Time Monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../913_bc_generation_from_live_gauge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BC from Live Gauge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../914_model_validation_with_usgs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Validation with USGS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Parallel Compute
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Parallel Compute
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel-compute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel-compute/local-parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local Parallel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel-compute/remote-parallel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Parallel
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel-compute/scaling-strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scaling Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../parallel-compute/worker-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Worker Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Classes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/hdf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HDF Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Geometry Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/fixit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fixit Module
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/dss/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DSS Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/remote/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/dataframe-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DataFrame Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    RAS Data Formats
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    RAS Data Formats
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/file-formats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/prj-parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PRJ File Parsing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/geometry-parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Geometry Parsing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/unsteady-parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unsteady File Parsing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/steady-parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Steady File Parsing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/hdf-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HDF Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/hdf-writing-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HDF Writing Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/quick-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cognitive Infrastructure
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cognitive Infrastructure
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cognitive-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cognitive-infrastructure/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cognitive-infrastructure/skills/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cognitive-infrastructure/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    LLM Forward Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    LLM Forward Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/llm-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/agent-infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/release-notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Release Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/acknowledgments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acknowledgments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup-and-imports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setup and Imports
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extract-example-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Extract Example Project
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-project-extents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get Project Extents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-usgs-3dep-terrain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Download USGS 3DEP Terrain
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-terrain-hdf" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Terrain HDF
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create Terrain HDF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fallback-use-existing-terrain" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fallback: Use Existing Terrain
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-terrain-in-rasmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register Terrain in RasMap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="terrain-creation-with-usgs-3dep-data">Terrain Creation with USGS 3DEP Data<a class="headerlink" href="#terrain-creation-with-usgs-3dep-data" title="Permanent link">&para;</a></h1>
<p>This notebook demonstrates downloading USGS 1m LiDAR terrain and creating HEC-RAS terrain HDF files.</p>
<p><strong>Primary Workflow</strong>:
1. Extract example project to get project extents
2. Download USGS 3DEP 1m LiDAR tiles directly from AWS S3
3. Mosaic tiles into single TIFF
4. Create terrain HDF from TIFF using RasProcess.exe
5. Register terrain in RasMap for use in HEC-RAS</p>
<p><strong>Prerequisites</strong>:
- HEC-RAS 6.6+ installed (for RasProcess.exe CreateTerrain command)
- Python packages: rasterio, geopandas, h5py</p>
<p><strong>Data Source</strong>: <a href="https://www.usgs.gov/3d-elevation-program">USGS 3D Elevation Program (3DEP)</a>
- 1-meter resolution LiDAR (highest quality, widespread coverage)
- Data accessed directly from AWS S3 (public bucket, no credentials required)
- Automatic tile discovery and downloading</p>
<h2 id="setup-and-imports">Setup and Imports<a class="headerlink" href="#setup-and-imports" title="Permanent link">&para;</a></h2>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># DEVELOPMENT MODE TOGGLE</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># Set USE_LOCAL_SOURCE based on your setup:</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">#   True  = Use local source code (for developers editing ras-commander)  </span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">#   False = Use pip-installed package (for users)</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">USE_LOCAL_SOURCE</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># &lt;-- TOGGLE THIS</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1"># -----------------------------------------------------------------------------</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="k">if</span> <span class="n">USE_LOCAL_SOURCE</span><span class="p">:</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>    <span class="n">local_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>  <span class="c1"># Parent of examples/ = repo root</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>    <span class="k">if</span> <span class="n">local_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>        <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">local_path</span><span class="p">)</span>  <span class="c1"># Insert at position 0 = highest priority</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LOCAL SOURCE MODE: Loading from </span><span class="si">{</span><span class="n">local_path</span><span class="si">}</span><span class="s2">/ras_commander&quot;</span><span class="p">)</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PIP PACKAGE MODE: Loading installed ras-commander&quot;</span><span class="p">)</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="c1"># Import ras-commander</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ras_commander</span><span class="w"> </span><span class="kn">import</span> <span class="n">RasExamples</span><span class="p">,</span> <span class="n">RasMap</span><span class="p">,</span> <span class="n">init_ras_project</span><span class="p">,</span> <span class="n">ras</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="kn">from</span><span class="w"> </span><span class="nn">ras_commander.terrain</span><span class="w"> </span><span class="kn">import</span> <span class="n">RasTerrain</span><span class="p">,</span> <span class="n">Usgs3depAws</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="c1"># Verify which version loaded</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="kn">import</span><span class="w"> </span><span class="nn">ras_commander</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loaded: </span><span class="si">{</span><span class="n">ras_commander</span><span class="o">.</span><span class="vm">__file__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>LOCAL SOURCE MODE: Loading from c:\GH\ras-commander/ras_commander
Loaded: c:\GH\ras-commander\ras_commander\__init__.py
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Additional imports for terrain operations</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">h5py</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c1"># Check for required packages</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">rasterio</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">rasterio.crs</span><span class="w"> </span><span class="kn">import</span> <span class="n">CRS</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    <span class="n">RASTERIO_AVAILABLE</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rasterio available&quot;</span><span class="p">)</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>    <span class="n">RASTERIO_AVAILABLE</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rasterio not available - install with: pip install rasterio&quot;</span><span class="p">)</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot proceed without rasterio&quot;</span><span class="p">)</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>    <span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>    <span class="n">GEOPANDAS_AVAILABLE</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;geopandas available&quot;</span><span class="p">)</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    <span class="n">GEOPANDAS_AVAILABLE</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;geopandas not available - install with: pip install geopandas&quot;</span><span class="p">)</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="k">try</span><span class="p">:</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">osgeo</span><span class="w"> </span><span class="kn">import</span> <span class="n">gdal</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>    <span class="n">GDAL_AVAILABLE</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gdal available&quot;</span><span class="p">)</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    <span class="n">GDAL_AVAILABLE</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gdal (osgeo) not available - VRT creation will use HEC-RAS GDAL&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>rasterio available
geopandas available
gdal (osgeo) not available - VRT creation will use HEC-RAS GDAL
</code></pre></div>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<p>Configure these values to customize the notebook for your environment.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1"># PARAMETERS - Edit these to customize the notebook</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># =============================================================================</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># Project Configuration</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">PROJECT_NAME</span> <span class="o">=</span> <span class="s2">&quot;BaldEagleCrkMulti2D&quot;</span>  <span class="c1"># Example project with 2D terrain</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">RAS_VERSION</span> <span class="o">=</span> <span class="s2">&quot;6.6&quot;</span>  <span class="c1"># HEC-RAS version</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># Terrain Download Configuration</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">TARGET_RESOLUTION</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># meters (1m LiDAR is highest quality available)</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="n">NEW_TERRAIN_NAME</span> <span class="o">=</span> <span class="s2">&quot;Terrain_3DEP&quot;</span>  <span class="c1"># Name for new terrain we&#39;ll create</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">VERTICAL_UNITS</span> <span class="o">=</span> <span class="s2">&quot;Feet&quot;</span>  <span class="c1"># Feet or Meters</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1"># HEC-RAS Installation Path (auto-detected)</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="n">HECRAS_PATH</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;C:/Program Files (x86)/HEC/HEC-RAS/</span><span class="si">{</span><span class="n">RAS_VERSION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="n">RAS_PROCESS_EXE</span> <span class="o">=</span> <span class="n">HECRAS_PATH</span> <span class="o">/</span> <span class="s2">&quot;RasProcess.exe&quot;</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Project: </span><span class="si">{</span><span class="n">PROJECT_NAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HEC-RAS Version: </span><span class="si">{</span><span class="n">RAS_VERSION</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Target Resolution: </span><span class="si">{</span><span class="n">TARGET_RESOLUTION</span><span class="si">}</span><span class="s2">m&quot;</span><span class="p">)</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;RasProcess.exe exists: </span><span class="si">{</span><span class="n">RAS_PROCESS_EXE</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Project: BaldEagleCrkMulti2D
HEC-RAS Version: 6.6
Target Resolution: 1m
RasProcess.exe exists: True
</code></pre></div>
<h2 id="extract-example-project">Extract Example Project<a class="headerlink" href="#extract-example-project" title="Permanent link">&para;</a></h2>
<p>We'll extract an example project to get the project extents for downloading USGS terrain.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Extract the example project with a suffix for this notebook</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">project_path</span> <span class="o">=</span> <span class="n">RasExamples</span><span class="o">.</span><span class="n">extract_project</span><span class="p">(</span><span class="n">PROJECT_NAME</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;920&quot;</span><span class="p">)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Project extracted to: </span><span class="si">{</span><span class="n">project_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># Initialize the project</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">init_ras_project</span><span class="p">(</span><span class="n">project_path</span><span class="p">,</span> <span class="n">RAS_VERSION</span><span class="p">)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Project initialized: </span><span class="si">{</span><span class="n">ras</span><span class="o">.</span><span class="n">project_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="c1"># Create terrain folder if needed</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="n">terrain_folder</span> <span class="o">=</span> <span class="n">project_path</span> <span class="o">/</span> <span class="s2">&quot;Terrain&quot;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="n">terrain_folder</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Terrain folder: </span><span class="si">{</span><span class="n">terrain_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - Found zip file: C:\GH\ras-commander\examples\Example_Projects_6_6.zip
2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - Loading project data from CSV...
2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - Loaded 68 projects from CSV.
2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - ----- RasExamples Extracting Project -----
2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - Extracting project &#39;BaldEagleCrkMulti2D&#39; as &#39;BaldEagleCrkMulti2D_920&#39;
2026-01-13 10:30:53 - ras_commander.RasExamples - INFO - Folder &#39;BaldEagleCrkMulti2D_920&#39; already exists. Deleting existing folder...
2026-01-13 10:30:54 - ras_commander.RasExamples - INFO - Existing folder &#39;BaldEagleCrkMulti2D_920&#39; has been deleted.
2026-01-13 10:30:56 - ras_commander.RasExamples - INFO - Successfully extracted project &#39;BaldEagleCrkMulti2D&#39; to C:\GH\ras-commander\examples\example_projects\BaldEagleCrkMulti2D_920
2026-01-13 10:30:56 - ras_commander.RasMap - INFO - Successfully parsed RASMapper file: C:\GH\ras-commander\examples\example_projects\BaldEagleCrkMulti2D_920\BaldEagleDamBrk.rasmap
2026-01-13 10:30:56 - ras_commander.RasPrj - INFO - Updated results_df with 11 plan(s)


Project extracted to: C:\GH\ras-commander\examples\example_projects\BaldEagleCrkMulti2D_920
Project initialized: BaldEagleDamBrk
Terrain folder: C:\GH\ras-commander\examples\example_projects\BaldEagleCrkMulti2D_920\Terrain
</code></pre></div>
<h2 id="get-project-extents">Get Project Extents<a class="headerlink" href="#get-project-extents" title="Permanent link">&para;</a></h2>
<p>Extract the bounding box from the project's existing terrain or geometry to know where to download USGS data.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Find existing terrain to get extents</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">existing_tiffs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">terrain_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.tif&quot;</span><span class="p">))</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">existing_hdfs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">terrain_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.hdf&quot;</span><span class="p">))</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">existing_tiffs</span><span class="p">)</span><span class="si">}</span><span class="s2"> TIFF files&quot;</span><span class="p">)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">existing_hdfs</span><span class="p">)</span><span class="si">}</span><span class="s2"> HDF files&quot;</span><span class="p">)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="c1"># Get bounds from first TIFF if available</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="k">if</span> <span class="n">existing_tiffs</span> <span class="ow">and</span> <span class="n">RASTERIO_AVAILABLE</span><span class="p">:</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    <span class="n">source_tiff</span> <span class="o">=</span> <span class="n">existing_tiffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Using </span><span class="si">{</span><span class="n">source_tiff</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> to determine project extents:&quot;</span><span class="p">)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">source_tiff</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>        <span class="n">bounds</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">bounds</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>        <span class="n">crs</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">crs</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Bounds (native CRS): </span><span class="si">{</span><span class="n">bounds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  CRS: </span><span class="si">{</span><span class="n">crs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Resolution: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Size: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2"> pixels&quot;</span><span class="p">)</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>        <span class="c1"># Store for later use</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>        <span class="n">PROJECT_BOUNDS</span> <span class="o">=</span> <span class="n">bounds</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>        <span class="n">PROJECT_CRS</span> <span class="o">=</span> <span class="n">crs</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No existing TIFF found - will need to specify bounds manually&quot;</span><span class="p">)</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>    <span class="n">PROJECT_BOUNDS</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>    <span class="n">PROJECT_CRS</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Found 2 TIFF files
Found 1 HDF files

Using Terrain50.baldeagledem.tif to determine project extents:
  Bounds (native CRS): BoundingBox(left=1834327.1955903, bottom=162918.80517492996, right=2149835.693237871, top=414872.9473435675)
  CRS: EPSG:2271
  Resolution: 36.50 x 36.50
  Size: 8643 x 6902 pixels
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Convert bounds to WGS84 (lat/lon) for USGS 3DEP</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">if</span> <span class="n">PROJECT_BOUNDS</span> <span class="ow">and</span> <span class="n">RASTERIO_AVAILABLE</span><span class="p">:</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">pyproj</span><span class="w"> </span><span class="kn">import</span> <span class="n">Transformer</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    <span class="kn">from</span><span class="w"> </span><span class="nn">shapely.geometry</span><span class="w"> </span><span class="kn">import</span> <span class="n">box</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="c1"># Create transformer from project CRS to WGS84</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>    <span class="n">transformer</span> <span class="o">=</span> <span class="n">Transformer</span><span class="o">.</span><span class="n">from_crs</span><span class="p">(</span><span class="n">PROJECT_CRS</span><span class="p">,</span> <span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span> <span class="n">always_xy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="c1"># Transform corners</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    <span class="n">minx</span><span class="p">,</span> <span class="n">miny</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">PROJECT_BOUNDS</span><span class="o">.</span><span class="n">left</span><span class="p">,</span> <span class="n">PROJECT_BOUNDS</span><span class="o">.</span><span class="n">bottom</span><span class="p">)</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>    <span class="n">maxx</span><span class="p">,</span> <span class="n">maxy</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">PROJECT_BOUNDS</span><span class="o">.</span><span class="n">right</span><span class="p">,</span> <span class="n">PROJECT_BOUNDS</span><span class="o">.</span><span class="n">top</span><span class="p">)</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>    <span class="c1"># Calculate area</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>    <span class="n">full_width_deg</span> <span class="o">=</span> <span class="n">maxx</span> <span class="o">-</span> <span class="n">minx</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    <span class="n">full_height_deg</span> <span class="o">=</span> <span class="n">maxy</span> <span class="o">-</span> <span class="n">miny</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>    <span class="n">full_area_sq_km</span> <span class="o">=</span> <span class="n">full_width_deg</span> <span class="o">*</span> <span class="mi">111</span> <span class="o">*</span> <span class="n">full_height_deg</span> <span class="o">*</span> <span class="mi">85</span>  <span class="c1"># Rough approximation</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Full terrain extent:&quot;</span><span class="p">)</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Bounds (WGS84): (</span><span class="si">{</span><span class="n">minx</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">miny</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">) to (</span><span class="si">{</span><span class="n">maxx</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">maxy</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Approx area: </span><span class="si">{</span><span class="n">full_area_sq_km</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> sq km&quot;</span><span class="p">)</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>    <span class="c1"># Use full extent for download (Usgs3depAws will download only intersecting tiles)</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>    <span class="n">DOWNLOAD_BBOX</span> <span class="o">=</span> <span class="p">(</span><span class="n">minx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">maxy</span><span class="p">)</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Download bounding box (WGS84):&quot;</span><span class="p">)</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  West:  </span><span class="si">{</span><span class="n">DOWNLOAD_BBOX</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  South: </span><span class="si">{</span><span class="n">DOWNLOAD_BBOX</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  East:  </span><span class="si">{</span><span class="n">DOWNLOAD_BBOX</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  North: </span><span class="si">{</span><span class="n">DOWNLOAD_BBOX</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">:</span><span class="s2">.6f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot determine download bounds without existing terrain&quot;</span><span class="p">)</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>    <span class="n">DOWNLOAD_BBOX</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Full terrain extent:
  Bounds (WGS84): (-78.233233, 40.612784) to (-77.089997, 41.303441)
  Approx area: 7449.7 sq km

Download bounding box (WGS84):
  West:  -78.233233
  South: 40.612784
  East:  -77.089997
  North: 41.303441
</code></pre></div>
<h2 id="download-usgs-3dep-terrain">Download USGS 3DEP Terrain<a class="headerlink" href="#download-usgs-3dep-terrain" title="Permanent link">&para;</a></h2>
<p>Download 1m LiDAR terrain tiles directly from USGS AWS S3 using <code>Usgs3depAws</code>.</p>
<p><strong>How it works</strong>:
1. Downloads USGS tile index (~15 MB GeoPackage, one-time)
2. Finds projects covering your area
3. Downloads file list from each project
4. Checks which tiles intersect your area
5. Downloads only intersecting tiles (typically 2-10 tiles)</p>
<p><strong>Tile sizes</strong>: ~200-300 MB per tile (10km x 10km at 1m resolution)</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Find USGS 3DEP projects covering this area</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">if</span> <span class="n">DOWNLOAD_BBOX</span> <span class="ow">and</span> <span class="n">GEOPANDAS_AVAILABLE</span><span class="p">:</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finding USGS 3DEP 1m projects for this area...&quot;</span><span class="p">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;This will download a ~15 MB tile index (one-time, cached).&quot;</span><span class="p">)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>        <span class="n">projects</span> <span class="o">=</span> <span class="n">Usgs3depAws</span><span class="o">.</span><span class="n">find_tiles_for_bbox</span><span class="p">(</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>            <span class="n">bbox</span><span class="o">=</span><span class="n">DOWNLOAD_BBOX</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>            <span class="n">resolution</span><span class="o">=</span><span class="n">TARGET_RESOLUTION</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>            <span class="n">cache_folder</span><span class="o">=</span><span class="s2">&quot;cache/usgs3dep&quot;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>        <span class="p">)</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">projects</span><span class="p">)</span><span class="si">}</span><span class="s2"> project(s) with </span><span class="si">{</span><span class="n">TARGET_RESOLUTION</span><span class="si">}</span><span class="s2">m data:&quot;</span><span class="p">)</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">proj</span> <span class="ow">in</span> <span class="n">projects</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">proj</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (published: </span><span class="si">{</span><span class="n">proj</span><span class="p">[</span><span class="s1">&#39;pub_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>        <span class="n">USGS_PROJECTS</span> <span class="o">=</span> <span class="n">projects</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Could not find projects: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>        <span class="n">USGS_PROJECTS</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot find projects - missing bbox or geopandas&quot;</span><span class="p">)</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>    <span class="n">USGS_PROJECTS</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>2026-01-13 10:30:56 - ras_commander.terrain.Usgs3depAws - INFO - Using cached 1m tile index: cache\usgs3dep\FESM_1m.gpkg


Finding USGS 3DEP 1m projects for this area...
This will download a ~15 MB tile index (one-time, cached).


2026-01-13 10:31:06 - ras_commander.terrain.Usgs3depAws - INFO -   Loaded 870 tiles
2026-01-13 10:31:06 - ras_commander.terrain.Usgs3depAws - INFO - Found 3 projects intersecting bbox



Found 3 project(s) with 1m data:
  - PA_Northcentral_2019_B19 (published: 2022-05-02 00:00:00)
  - PA_South_Central_2017_D17 (published: 2019-04-16 00:00:00)
  - PA_South_Central_2017_D17 (published: 2019-04-11 00:00:00)
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Download 1m DEM tiles from USGS 3DEP (AWS S3)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">if</span> <span class="n">DOWNLOAD_BBOX</span> <span class="ow">and</span> <span class="n">USGS_PROJECTS</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">USGS_PROJECTS</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Downloading </span><span class="si">{</span><span class="n">TARGET_RESOLUTION</span><span class="si">}</span><span class="s2">m DEM tiles for project area...&quot;</span><span class="p">)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Note: This checks each tile in project(s) for intersection (~10 min for large projects)&quot;</span><span class="p">)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;      Tiles are cached - subsequent runs will be much faster.&quot;</span><span class="p">)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>    <span class="nb">print</span><span class="p">()</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>        <span class="c1"># Download intersecting tiles</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>        <span class="n">tile_folder</span> <span class="o">=</span> <span class="n">terrain_folder</span> <span class="o">/</span> <span class="s2">&quot;usgs_tiles&quot;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>        <span class="n">downloaded_tiles</span> <span class="o">=</span> <span class="n">Usgs3depAws</span><span class="o">.</span><span class="n">download_tiles</span><span class="p">(</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>            <span class="n">bbox</span><span class="o">=</span><span class="n">DOWNLOAD_BBOX</span><span class="p">,</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>            <span class="n">resolution</span><span class="o">=</span><span class="n">TARGET_RESOLUTION</span><span class="p">,</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>            <span class="n">output_folder</span><span class="o">=</span><span class="n">tile_folder</span><span class="p">,</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>            <span class="n">cache_folder</span><span class="o">=</span><span class="s2">&quot;cache/usgs3dep&quot;</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>        <span class="p">)</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Downloaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">downloaded_tiles</span><span class="p">)</span><span class="si">}</span><span class="s2"> tiles:&quot;</span><span class="p">)</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>        <span class="n">total_size_mb</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a>        <span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">downloaded_tiles</span><span class="p">:</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>            <span class="n">size_mb</span> <span class="o">=</span> <span class="n">tile</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">/</span> <span class="mi">1024</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>            <span class="n">total_size_mb</span> <span class="o">+=</span> <span class="n">size_mb</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">tile</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">size_mb</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB)&quot;</span><span class="p">)</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total size: </span><span class="si">{</span><span class="n">total_size_mb</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>        <span class="n">DOWNLOADED_TILES</span> <span class="o">=</span> <span class="n">downloaded_tiles</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Download failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a>        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>        <span class="n">DOWNLOADED_TILES</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot download - missing bbox or no projects found&quot;</span><span class="p">)</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a>    <span class="n">DOWNLOADED_TILES</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>2026-01-13 10:31:06 - ras_commander.terrain.Usgs3depAws - INFO - Using cached 1m tile index: cache\usgs3dep\FESM_1m.gpkg


Downloading 1m DEM tiles for project area...
Note: This checks each tile in project(s) for intersection (~10 min for large projects)
      Tiles are cached - subsequent runs will be much faster.



2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -   Loaded 870 tiles
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO - Found 3 projects intersecting bbox
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO - Found 3 projects intersecting bbox
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -   Selecting most recent project (year 2019)
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -     Selected: PA_Northcentral_2019_B19
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -     Skipping 2 older project(s):
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -       - PA_South_Central_2017_D17 (year 2017)
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO -       - PA_South_Central_2017_D17 (year 2017)
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO - 
Processing project: PA_Northcentral_2019_B19
2026-01-13 10:31:15 - ras_commander.terrain.Usgs3depAws - INFO - Fetching tile list from: PA_Northcentral_2019_B19
2026-01-13 10:31:16 - ras_commander.terrain.Usgs3depAws - INFO -   Found 653 tiles in project
2026-01-13 10:31:16 - ras_commander.terrain.Usgs3depAws - INFO -   Checking 653 tiles for intersection...
2026-01-13 10:31:17 - ras_commander.terrain.Usgs3depAws - INFO -   Found 98 intersecting tiles
2026-01-13 10:31:17 - ras_commander.terrain.Usgs3depAws - INFO -   Downloading tiles with 3 concurrent workers...
2026-01-13 10:31:17 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:31:17 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:31:17 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:31:49 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (312.02 MB)
2026-01-13 10:31:49 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:31:59 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (308.78 MB)
2026-01-13 10:31:59 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:32:26 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (299.71 MB)
2026-01-13 10:32:26 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:32:26 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (293.74 MB)
2026-01-13 10:32:26 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:32:53 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (320.38 MB)
2026-01-13 10:32:53 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x76y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:33:15 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (317.89 MB)
2026-01-13 10:33:15 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:33:33 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (295.65 MB)
2026-01-13 10:33:33 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:33:33 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (303.93 MB)
2026-01-13 10:33:33 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:33:56 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (295.42 MB)
2026-01-13 10:33:56 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:33:58 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (292.75 MB)
2026-01-13 10:33:58 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:34:27 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (311.43 MB)
2026-01-13 10:34:27 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:34:55 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (295.85 MB)
2026-01-13 10:34:55 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:35:16 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (311.08 MB)
2026-01-13 10:35:16 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x75y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:35:31 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (294.59 MB)
2026-01-13 10:35:31 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:35:44 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (310.71 MB)
2026-01-13 10:35:44 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:36:22 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (303.97 MB)
2026-01-13 10:36:22 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:36:26 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (322.25 MB)
2026-01-13 10:36:26 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:36:57 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (313.53 MB)
2026-01-13 10:36:57 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:37:08 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (287.92 MB)
2026-01-13 10:37:08 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:37:40 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (297.32 MB)
2026-01-13 10:37:40 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:37:50 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (307.41 MB)
2026-01-13 10:37:50 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:38:00 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (311.69 MB)
2026-01-13 10:38:00 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x74y449_PA_Northcentral_2019_B19.tif
2026-01-13 10:38:42 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (324.93 MB)
2026-01-13 10:38:42 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:38:42 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (323.01 MB)
2026-01-13 10:38:42 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:38:47 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (306.54 MB)
2026-01-13 10:38:47 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:39:32 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (306.19 MB)
2026-01-13 10:39:32 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:39:52 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (311.63 MB)
2026-01-13 10:39:52 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:39:57 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (286.54 MB)
2026-01-13 10:39:57 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:40:23 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (302.27 MB)
2026-01-13 10:40:23 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:08 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (299.73 MB)
2026-01-13 10:41:08 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:08 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (313.95 MB)
2026-01-13 10:41:08 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_17_x73y449_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:34 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (290.43 MB)
2026-01-13 10:41:34 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x32y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:36 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (13.35 MB)
2026-01-13 10:41:36 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x31y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:37 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (5.31 MB)
2026-01-13 10:41:37 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x31y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:41:54 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (139.34 MB)
2026-01-13 10:41:54 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x31y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:42:15 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (310.05 MB)
2026-01-13 10:42:15 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x31y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:42:16 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (262.44 MB)
2026-01-13 10:42:16 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x30y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:42:24 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (62.59 MB)
2026-01-13 10:42:24 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x30y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:42:49 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (189.91 MB)
2026-01-13 10:42:49 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x30y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:42:59 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (304.33 MB)
2026-01-13 10:42:59 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x30y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:43:21 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (305.63 MB)
2026-01-13 10:43:21 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x30y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:43:32 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (89.23 MB)
2026-01-13 10:43:32 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:43:42 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (287.64 MB)
2026-01-13 10:43:42 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:43:54 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (286.54 MB)
2026-01-13 10:43:54 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:44:27 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (317.07 MB)
2026-01-13 10:44:27 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:44:49 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (307.80 MB)
2026-01-13 10:44:49 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:45:02 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (325.11 MB)
2026-01-13 10:45:02 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x29y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:45:03 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (5.63 MB)
2026-01-13 10:45:03 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:45:28 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (295.35 MB)
2026-01-13 10:45:28 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:45:48 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (263.46 MB)
2026-01-13 10:45:48 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:45:55 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (327.76 MB)
2026-01-13 10:45:55 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:46:27 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (297.64 MB)
2026-01-13 10:46:27 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:46:33 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (325.80 MB)
2026-01-13 10:46:33 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x28y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:46:41 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (105.74 MB)
2026-01-13 10:46:41 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:47:18 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (302.18 MB)
2026-01-13 10:47:18 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:47:27 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (306.60 MB)
2026-01-13 10:47:27 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:47:27 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (307.12 MB)
2026-01-13 10:47:27 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:48:06 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (317.54 MB)
2026-01-13 10:48:06 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:48:35 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (299.83 MB)
2026-01-13 10:48:35 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:48:38 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (287.21 MB)
2026-01-13 10:48:38 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x27y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:48:46 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (61.05 MB)
2026-01-13 10:48:46 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:48:57 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (320.21 MB)
2026-01-13 10:48:57 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:49:34 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (294.77 MB)
2026-01-13 10:49:34 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:49:53 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (243.78 MB)
2026-01-13 10:49:53 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:50:03 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (319.73 MB)
2026-01-13 10:50:03 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:50:41 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (310.12 MB)
2026-01-13 10:50:41 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:51:04 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (296.93 MB)
2026-01-13 10:51:04 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:51:05 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (319.13 MB)
2026-01-13 10:51:05 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:51:15 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (70.76 MB)
2026-01-13 10:51:15 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x26y449_PA_Northcentral_2019_B19.tif
2026-01-13 10:51:19 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (25.74 MB)
2026-01-13 10:51:19 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:51:47 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (297.00 MB)
2026-01-13 10:51:47 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:52:16 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (304.62 MB)
2026-01-13 10:52:16 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:52:51 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (296.55 MB)
2026-01-13 10:52:51 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:52:56 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (298.55 MB)
2026-01-13 10:52:56 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:53:22 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (296.43 MB)
2026-01-13 10:53:22 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:53:39 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (304.44 MB)
2026-01-13 10:53:39 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:53:46 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (289.76 MB)
2026-01-13 10:53:46 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:53:52 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (313.29 MB)
2026-01-13 10:53:52 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x25y449_PA_Northcentral_2019_B19.tif
2026-01-13 10:54:15 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (317.18 MB)
2026-01-13 10:54:15 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:54:22 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (325.42 MB)
2026-01-13 10:54:22 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:54:51 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (304.06 MB)
2026-01-13 10:54:51 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:55:18 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (299.78 MB)
2026-01-13 10:55:18 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:55:36 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (309.55 MB)
2026-01-13 10:55:36 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:55:47 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (313.60 MB)
2026-01-13 10:55:47 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:56:09 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (281.36 MB)
2026-01-13 10:56:09 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:56:32 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (309.04 MB)
2026-01-13 10:56:32 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:56:32 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (299.36 MB)
2026-01-13 10:56:32 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x24y449_PA_Northcentral_2019_B19.tif
2026-01-13 10:56:50 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (306.88 MB)
2026-01-13 10:56:50 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y457_PA_Northcentral_2019_B19.tif
2026-01-13 10:57:12 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (321.94 MB)
2026-01-13 10:57:12 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y456_PA_Northcentral_2019_B19.tif
2026-01-13 10:57:34 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (328.36 MB)
2026-01-13 10:57:34 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y455_PA_Northcentral_2019_B19.tif
2026-01-13 10:57:47 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (314.91 MB)
2026-01-13 10:57:47 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y454_PA_Northcentral_2019_B19.tif
2026-01-13 10:57:54 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (288.89 MB)
2026-01-13 10:57:54 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y453_PA_Northcentral_2019_B19.tif
2026-01-13 10:58:23 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (296.91 MB)
2026-01-13 10:58:23 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y452_PA_Northcentral_2019_B19.tif
2026-01-13 10:58:48 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (308.41 MB)
2026-01-13 10:58:48 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y451_PA_Northcentral_2019_B19.tif
2026-01-13 10:58:50 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (306.60 MB)
2026-01-13 10:58:50 - ras_commander.terrain.Usgs3depAws - INFO -     Downloading: USGS_1M_18_x23y450_PA_Northcentral_2019_B19.tif
2026-01-13 10:59:00 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (288.08 MB)
2026-01-13 10:59:14 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (307.31 MB)
2026-01-13 10:59:39 - ras_commander.terrain.Usgs3depAws - INFO -       Saved (322.39 MB)
2026-01-13 10:59:39 - ras_commander.terrain.Usgs3depAws - INFO - 
Total tiles downloaded: 98



Downloaded 98 tiles:
  USGS_1M_17_x76y456_PA_Northcentral_2019_B19.tif (312.02 MB)
  USGS_1M_17_x76y455_PA_Northcentral_2019_B19.tif (308.78 MB)
  USGS_1M_17_x76y453_PA_Northcentral_2019_B19.tif (299.71 MB)
  USGS_1M_17_x76y457_PA_Northcentral_2019_B19.tif (293.74 MB)
  USGS_1M_17_x76y454_PA_Northcentral_2019_B19.tif (320.38 MB)
  USGS_1M_17_x76y451_PA_Northcentral_2019_B19.tif (317.89 MB)
  USGS_1M_17_x76y452_PA_Northcentral_2019_B19.tif (295.65 MB)
  USGS_1M_17_x76y450_PA_Northcentral_2019_B19.tif (303.93 MB)
  USGS_1M_17_x75y455_PA_Northcentral_2019_B19.tif (295.42 MB)
  USGS_1M_17_x75y456_PA_Northcentral_2019_B19.tif (292.75 MB)
  USGS_1M_17_x75y457_PA_Northcentral_2019_B19.tif (311.43 MB)
  USGS_1M_17_x75y454_PA_Northcentral_2019_B19.tif (295.85 MB)
  USGS_1M_17_x75y453_PA_Northcentral_2019_B19.tif (311.08 MB)
  USGS_1M_17_x75y452_PA_Northcentral_2019_B19.tif (294.59 MB)
  USGS_1M_17_x75y451_PA_Northcentral_2019_B19.tif (310.71 MB)
  USGS_1M_17_x74y457_PA_Northcentral_2019_B19.tif (303.97 MB)
  USGS_1M_17_x75y450_PA_Northcentral_2019_B19.tif (322.25 MB)
  USGS_1M_17_x74y456_PA_Northcentral_2019_B19.tif (313.53 MB)
  USGS_1M_17_x74y454_PA_Northcentral_2019_B19.tif (287.92 MB)
  USGS_1M_17_x74y453_PA_Northcentral_2019_B19.tif (297.32 MB)
  USGS_1M_17_x74y452_PA_Northcentral_2019_B19.tif (307.41 MB)
  USGS_1M_17_x74y455_PA_Northcentral_2019_B19.tif (311.69 MB)
  USGS_1M_17_x74y450_PA_Northcentral_2019_B19.tif (324.93 MB)
  USGS_1M_17_x74y449_PA_Northcentral_2019_B19.tif (323.01 MB)
  USGS_1M_17_x74y451_PA_Northcentral_2019_B19.tif (306.54 MB)
  USGS_1M_17_x73y455_PA_Northcentral_2019_B19.tif (306.19 MB)
  USGS_1M_17_x73y456_PA_Northcentral_2019_B19.tif (311.63 MB)
  USGS_1M_17_x73y457_PA_Northcentral_2019_B19.tif (286.54 MB)
  USGS_1M_17_x73y452_PA_Northcentral_2019_B19.tif (302.27 MB)
  USGS_1M_17_x73y454_PA_Northcentral_2019_B19.tif (299.73 MB)
  USGS_1M_17_x73y451_PA_Northcentral_2019_B19.tif (313.95 MB)
  USGS_1M_17_x73y453_PA_Northcentral_2019_B19.tif (290.43 MB)
  USGS_1M_18_x32y455_PA_Northcentral_2019_B19.tif (13.35 MB)
  USGS_1M_18_x31y457_PA_Northcentral_2019_B19.tif (5.31 MB)
  USGS_1M_18_x31y456_PA_Northcentral_2019_B19.tif (139.34 MB)
  USGS_1M_17_x73y449_PA_Northcentral_2019_B19.tif (310.05 MB)
  USGS_1M_18_x31y455_PA_Northcentral_2019_B19.tif (262.44 MB)
  USGS_1M_18_x31y454_PA_Northcentral_2019_B19.tif (62.59 MB)
  USGS_1M_18_x30y457_PA_Northcentral_2019_B19.tif (189.91 MB)
  USGS_1M_17_x73y450_PA_Northcentral_2019_B19.tif (304.33 MB)
  USGS_1M_18_x30y456_PA_Northcentral_2019_B19.tif (305.63 MB)
  USGS_1M_18_x30y453_PA_Northcentral_2019_B19.tif (89.23 MB)
  USGS_1M_18_x30y454_PA_Northcentral_2019_B19.tif (287.64 MB)
  USGS_1M_18_x30y455_PA_Northcentral_2019_B19.tif (286.54 MB)
  USGS_1M_18_x29y456_PA_Northcentral_2019_B19.tif (317.07 MB)
  USGS_1M_18_x29y455_PA_Northcentral_2019_B19.tif (307.80 MB)
  USGS_1M_18_x29y457_PA_Northcentral_2019_B19.tif (325.11 MB)
  USGS_1M_18_x29y452_PA_Northcentral_2019_B19.tif (5.63 MB)
  USGS_1M_18_x29y454_PA_Northcentral_2019_B19.tif (295.35 MB)
  USGS_1M_18_x29y453_PA_Northcentral_2019_B19.tif (263.46 MB)
  USGS_1M_18_x28y457_PA_Northcentral_2019_B19.tif (327.76 MB)
  USGS_1M_18_x28y454_PA_Northcentral_2019_B19.tif (297.64 MB)
  USGS_1M_18_x28y456_PA_Northcentral_2019_B19.tif (325.80 MB)
  USGS_1M_18_x28y452_PA_Northcentral_2019_B19.tif (105.74 MB)
  USGS_1M_18_x28y453_PA_Northcentral_2019_B19.tif (302.18 MB)
  USGS_1M_18_x28y455_PA_Northcentral_2019_B19.tif (306.60 MB)
  USGS_1M_18_x27y457_PA_Northcentral_2019_B19.tif (307.12 MB)
  USGS_1M_18_x27y455_PA_Northcentral_2019_B19.tif (317.54 MB)
  USGS_1M_18_x27y454_PA_Northcentral_2019_B19.tif (299.83 MB)
  USGS_1M_18_x27y453_PA_Northcentral_2019_B19.tif (287.21 MB)
  USGS_1M_18_x27y451_PA_Northcentral_2019_B19.tif (61.05 MB)
  USGS_1M_18_x27y456_PA_Northcentral_2019_B19.tif (320.21 MB)
  USGS_1M_18_x26y457_PA_Northcentral_2019_B19.tif (294.77 MB)
  USGS_1M_18_x27y452_PA_Northcentral_2019_B19.tif (243.78 MB)
  USGS_1M_18_x26y456_PA_Northcentral_2019_B19.tif (319.73 MB)
  USGS_1M_18_x26y455_PA_Northcentral_2019_B19.tif (310.12 MB)
  USGS_1M_18_x26y453_PA_Northcentral_2019_B19.tif (296.93 MB)
  USGS_1M_18_x26y454_PA_Northcentral_2019_B19.tif (319.13 MB)
  USGS_1M_18_x26y450_PA_Northcentral_2019_B19.tif (70.76 MB)
  USGS_1M_18_x26y449_PA_Northcentral_2019_B19.tif (25.74 MB)
  USGS_1M_18_x26y452_PA_Northcentral_2019_B19.tif (297.00 MB)
  USGS_1M_18_x25y457_PA_Northcentral_2019_B19.tif (304.62 MB)
  USGS_1M_18_x26y451_PA_Northcentral_2019_B19.tif (296.55 MB)
  USGS_1M_18_x25y455_PA_Northcentral_2019_B19.tif (298.55 MB)
  USGS_1M_18_x25y456_PA_Northcentral_2019_B19.tif (296.43 MB)
  USGS_1M_18_x25y453_PA_Northcentral_2019_B19.tif (304.44 MB)
  USGS_1M_18_x25y452_PA_Northcentral_2019_B19.tif (289.76 MB)
  USGS_1M_18_x25y454_PA_Northcentral_2019_B19.tif (313.29 MB)
  USGS_1M_18_x25y451_PA_Northcentral_2019_B19.tif (317.18 MB)
  USGS_1M_18_x25y450_PA_Northcentral_2019_B19.tif (325.42 MB)
  USGS_1M_18_x24y456_PA_Northcentral_2019_B19.tif (304.06 MB)
  USGS_1M_18_x25y449_PA_Northcentral_2019_B19.tif (299.78 MB)
  USGS_1M_18_x24y455_PA_Northcentral_2019_B19.tif (309.55 MB)
  USGS_1M_18_x24y457_PA_Northcentral_2019_B19.tif (313.60 MB)
  USGS_1M_18_x24y454_PA_Northcentral_2019_B19.tif (281.36 MB)
  USGS_1M_18_x24y453_PA_Northcentral_2019_B19.tif (309.04 MB)
  USGS_1M_18_x24y452_PA_Northcentral_2019_B19.tif (299.36 MB)
  USGS_1M_18_x24y451_PA_Northcentral_2019_B19.tif (306.88 MB)
  USGS_1M_18_x24y450_PA_Northcentral_2019_B19.tif (321.94 MB)
  USGS_1M_18_x24y449_PA_Northcentral_2019_B19.tif (328.36 MB)
  USGS_1M_18_x23y456_PA_Northcentral_2019_B19.tif (314.91 MB)
  USGS_1M_18_x23y457_PA_Northcentral_2019_B19.tif (288.89 MB)
  USGS_1M_18_x23y454_PA_Northcentral_2019_B19.tif (296.91 MB)
  USGS_1M_18_x23y452_PA_Northcentral_2019_B19.tif (308.41 MB)
  USGS_1M_18_x23y455_PA_Northcentral_2019_B19.tif (306.60 MB)
  USGS_1M_18_x23y453_PA_Northcentral_2019_B19.tif (288.08 MB)
  USGS_1M_18_x23y451_PA_Northcentral_2019_B19.tif (307.31 MB)
  USGS_1M_18_x23y450_PA_Northcentral_2019_B19.tif (322.39 MB)

Total size: 27234.32 MB
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1"># Create mosaic from downloaded tiles</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="c1"># Uses GDAL VRT if available, otherwise falls back to rasterio merge</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="k">if</span> <span class="n">DOWNLOADED_TILES</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">DOWNLOADED_TILES</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating mosaic from </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">DOWNLOADED_TILES</span><span class="p">)</span><span class="si">}</span><span class="s2"> tiles...&quot;</span><span class="p">)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>    <span class="n">output_tiff</span> <span class="o">=</span> <span class="n">terrain_folder</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">NEW_TERRAIN_NAME</span><span class="si">}</span><span class="s2">.tif&quot;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>        <span class="k">if</span> <span class="n">GDAL_AVAILABLE</span><span class="p">:</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>            <span class="c1"># Method 1: GDAL VRT approach (faster for large datasets)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Using GDAL VRT approach...&quot;</span><span class="p">)</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>            <span class="n">vrt_path</span> <span class="o">=</span> <span class="n">terrain_folder</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">NEW_TERRAIN_NAME</span><span class="si">}</span><span class="s2">.vrt&quot;</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>            <span class="n">vrt</span> <span class="o">=</span> <span class="n">Usgs3depAws</span><span class="o">.</span><span class="n">create_vrt</span><span class="p">(</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>                <span class="n">tile_files</span><span class="o">=</span><span class="n">DOWNLOADED_TILES</span><span class="p">,</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>                <span class="n">output_vrt</span><span class="o">=</span><span class="n">vrt_path</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>            <span class="p">)</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created VRT mosaic: </span><span class="si">{</span><span class="n">vrt</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>            <span class="c1"># Convert VRT to single TIFF using RasTerrain</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Converting VRT to TIFF...&quot;</span><span class="p">)</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Note: This may take several minutes for large mosaics&quot;</span><span class="p">)</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>            <span class="n">final_tiff</span> <span class="o">=</span> <span class="n">RasTerrain</span><span class="o">.</span><span class="n">vrt_to_tiff</span><span class="p">(</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>                <span class="n">vrt_path</span><span class="o">=</span><span class="n">vrt</span><span class="p">,</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>                <span class="n">output_path</span><span class="o">=</span><span class="n">output_tiff</span><span class="p">,</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>                <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;LZW&quot;</span><span class="p">,</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>                <span class="n">create_overviews</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>                <span class="n">hecras_version</span><span class="o">=</span><span class="n">RAS_VERSION</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>            <span class="p">)</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a>            <span class="c1"># Method 2: Rasterio merge (no GDAL dependency)</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Using rasterio merge approach (GDAL not available)...&quot;</span><span class="p">)</span>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Note: This may take several minutes for large mosaics&quot;</span><span class="p">)</span>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>            <span class="kn">from</span><span class="w"> </span><span class="nn">rasterio.merge</span><span class="w"> </span><span class="kn">import</span> <span class="n">merge</span>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a>            <span class="c1"># Open all tiles and merge</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a>            <span class="n">src_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">tile</span><span class="p">)</span> <span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">DOWNLOADED_TILES</span><span class="p">]</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a>            <span class="n">mosaic</span><span class="p">,</span> <span class="n">out_transform</span> <span class="o">=</span> <span class="n">merge</span><span class="p">(</span><span class="n">src_files</span><span class="p">)</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>            <span class="c1"># Get metadata from first file</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a>            <span class="n">out_meta</span> <span class="o">=</span> <span class="n">src_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a>            <span class="n">out_meta</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a>                <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;GTiff&quot;</span><span class="p">,</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a>                <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="n">mosaic</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a>                <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="n">mosaic</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a>                <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="n">out_transform</span><span class="p">,</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a>                <span class="s2">&quot;compress&quot;</span><span class="p">:</span> <span class="s2">&quot;lzw&quot;</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a>            <span class="p">})</span>
</span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a>
</span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a>            <span class="c1"># Close source files</span>
</span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a>            <span class="k">for</span> <span class="n">src</span> <span class="ow">in</span> <span class="n">src_files</span><span class="p">:</span>
</span><span id="__span-8-52"><a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a>                <span class="n">src</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="__span-8-53"><a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a>
</span><span id="__span-8-54"><a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a>            <span class="c1"># Write merged TIFF</span>
</span><span id="__span-8-55"><a id="__codelineno-8-55" name="__codelineno-8-55" href="#__codelineno-8-55"></a>            <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">output_tiff</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">out_meta</span><span class="p">)</span> <span class="k">as</span> <span class="n">dest</span><span class="p">:</span>
</span><span id="__span-8-56"><a id="__codelineno-8-56" name="__codelineno-8-56" href="#__codelineno-8-56"></a>                <span class="n">dest</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">mosaic</span><span class="p">)</span>
</span><span id="__span-8-57"><a id="__codelineno-8-57" name="__codelineno-8-57" href="#__codelineno-8-57"></a>
</span><span id="__span-8-58"><a id="__codelineno-8-58" name="__codelineno-8-58" href="#__codelineno-8-58"></a>            <span class="n">final_tiff</span> <span class="o">=</span> <span class="n">output_tiff</span>
</span><span id="__span-8-59"><a id="__codelineno-8-59" name="__codelineno-8-59" href="#__codelineno-8-59"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Merged </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">DOWNLOADED_TILES</span><span class="p">)</span><span class="si">}</span><span class="s2"> tiles using rasterio&quot;</span><span class="p">)</span>
</span><span id="__span-8-60"><a id="__codelineno-8-60" name="__codelineno-8-60" href="#__codelineno-8-60"></a>
</span><span id="__span-8-61"><a id="__codelineno-8-61" name="__codelineno-8-61" href="#__codelineno-8-61"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Saved: </span><span class="si">{</span><span class="n">final_tiff</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-62"><a id="__codelineno-8-62" name="__codelineno-8-62" href="#__codelineno-8-62"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Size: </span><span class="si">{</span><span class="n">final_tiff</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</span><span id="__span-8-63"><a id="__codelineno-8-63" name="__codelineno-8-63" href="#__codelineno-8-63"></a>
</span><span id="__span-8-64"><a id="__codelineno-8-64" name="__codelineno-8-64" href="#__codelineno-8-64"></a>        <span class="c1"># Get info about the TIFF</span>
</span><span id="__span-8-65"><a id="__codelineno-8-65" name="__codelineno-8-65" href="#__codelineno-8-65"></a>        <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">final_tiff</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
</span><span id="__span-8-66"><a id="__codelineno-8-66" name="__codelineno-8-66" href="#__codelineno-8-66"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Shape: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2"> pixels&quot;</span><span class="p">)</span>
</span><span id="__span-8-67"><a id="__codelineno-8-67" name="__codelineno-8-67" href="#__codelineno-8-67"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  CRS: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">crs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-68"><a id="__codelineno-8-68" name="__codelineno-8-68" href="#__codelineno-8-68"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Resolution: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> x </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-69"><a id="__codelineno-8-69" name="__codelineno-8-69" href="#__codelineno-8-69"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Bounds: </span><span class="si">{</span><span class="n">src</span><span class="o">.</span><span class="n">bounds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-70"><a id="__codelineno-8-70" name="__codelineno-8-70" href="#__codelineno-8-70"></a>
</span><span id="__span-8-71"><a id="__codelineno-8-71" name="__codelineno-8-71" href="#__codelineno-8-71"></a>        <span class="n">DOWNLOADED_TIFF</span> <span class="o">=</span> <span class="n">final_tiff</span>
</span><span id="__span-8-72"><a id="__codelineno-8-72" name="__codelineno-8-72" href="#__codelineno-8-72"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-8-73"><a id="__codelineno-8-73" name="__codelineno-8-73" href="#__codelineno-8-73"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mosaic/conversion failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-8-74"><a id="__codelineno-8-74" name="__codelineno-8-74" href="#__codelineno-8-74"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
</span><span id="__span-8-75"><a id="__codelineno-8-75" name="__codelineno-8-75" href="#__codelineno-8-75"></a>        <span class="n">traceback</span><span class="o">.</span><span class="n">print_exc</span><span class="p">()</span>
</span><span id="__span-8-76"><a id="__codelineno-8-76" name="__codelineno-8-76" href="#__codelineno-8-76"></a>        <span class="n">DOWNLOADED_TIFF</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-8-77"><a id="__codelineno-8-77" name="__codelineno-8-77" href="#__codelineno-8-77"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-8-78"><a id="__codelineno-8-78" name="__codelineno-8-78" href="#__codelineno-8-78"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No tiles to mosaic&quot;</span><span class="p">)</span>
</span><span id="__span-8-79"><a id="__codelineno-8-79" name="__codelineno-8-79" href="#__codelineno-8-79"></a>    <span class="n">DOWNLOADED_TIFF</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Creating mosaic from 98 tiles...
Using rasterio merge approach (GDAL not available)...
Note: This may take several minutes for large mosaics
Mosaic/conversion failed: Unable to allocate 181. GiB for an array with shape (1, 90012, 540012) and data type float32


Traceback (most recent call last):
  File &quot;C:\Users\billk_clb\AppData\Local\Temp\ipykernel_165176\1063916843.py&quot;, line 38, in &lt;module&gt;
    mosaic, out_transform = merge(src_files)
                            ~~~~~^^^^^^^^^^^
  File &quot;c:\Users\billk_clb\anaconda3\envs\rascmdr_local\Lib\site-packages\rasterio\merge.py&quot;, line 427, in merge
    dest = np.zeros((output_count, chunk.height, chunk.width), dtype=dt)
numpy._core._exceptions._ArrayMemoryError: Unable to allocate 181. GiB for an array with shape (1, 90012, 540012) and data type float32
</code></pre></div>
<h2 id="create-terrain-hdf">Create Terrain HDF<a class="headerlink" href="#create-terrain-hdf" title="Permanent link">&para;</a></h2>
<p>Use <code>RasTerrain.create_terrain_hdf()</code> to create HEC-RAS terrain from the downloaded TIFF.</p>
<p>This uses <code>RasProcess.exe CreateTerrain</code> from HEC-RAS 6.6+ which:
- Creates multi-resolution pyramid levels (7 levels, 0-6)
- Enables TIN stitching for multi-source terrain
- Optimizes tile-based storage for HEC-RAS rendering</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1"># Find or create projection file</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">prj_files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">terrain_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.prj&quot;</span><span class="p">))</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">prj_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> projection files&quot;</span><span class="p">)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="k">if</span> <span class="n">prj_files</span><span class="p">:</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    <span class="n">projection_prj</span> <span class="o">=</span> <span class="n">prj_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using existing: </span><span class="si">{</span><span class="n">projection_prj</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="k">elif</span> <span class="n">DOWNLOADED_TIFF</span> <span class="ow">and</span> <span class="n">DOWNLOADED_TIFF</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="c1"># Generate PRJ from the TIFF</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>    <span class="n">projection_prj</span> <span class="o">=</span> <span class="n">terrain_folder</span> <span class="o">/</span> <span class="s2">&quot;Projection.prj&quot;</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generating PRJ from </span><span class="si">{</span><span class="n">DOWNLOADED_TIFF</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>    <span class="n">RasTerrain</span><span class="o">.</span><span class="n">_generate_prj_from_raster</span><span class="p">(</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>        <span class="n">DOWNLOADED_TIFF</span><span class="p">,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>        <span class="n">projection_prj</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>    <span class="p">)</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created: </span><span class="si">{</span><span class="n">projection_prj</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No projection file available - terrain creation will fail&quot;</span><span class="p">)</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>    <span class="n">projection_prj</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Found 1 projection files
Using existing: Projection.prj
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1"># Create terrain HDF using RasTerrain class</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">if</span> <span class="n">DOWNLOADED_TIFF</span> <span class="ow">and</span> <span class="n">DOWNLOADED_TIFF</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">projection_prj</span> <span class="ow">and</span> <span class="n">projection_prj</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    <span class="n">output_hdf</span> <span class="o">=</span> <span class="n">terrain_folder</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">NEW_TERRAIN_NAME</span><span class="si">}</span><span class="s2">.hdf&quot;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Creating terrain HDF:&quot;</span><span class="p">)</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Input TIFF: </span><span class="si">{</span><span class="n">DOWNLOADED_TIFF</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Output HDF: </span><span class="si">{</span><span class="n">output_hdf</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Projection: </span><span class="si">{</span><span class="n">projection_prj</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Units: </span><span class="si">{</span><span class="n">VERTICAL_UNITS</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>    <span class="nb">print</span><span class="p">()</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>        <span class="n">result_hdf</span> <span class="o">=</span> <span class="n">RasTerrain</span><span class="o">.</span><span class="n">create_terrain_hdf</span><span class="p">(</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>            <span class="n">input_rasters</span><span class="o">=</span><span class="p">[</span><span class="n">DOWNLOADED_TIFF</span><span class="p">],</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>            <span class="n">output_hdf</span><span class="o">=</span><span class="n">output_hdf</span><span class="p">,</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>            <span class="n">projection_prj</span><span class="o">=</span><span class="n">projection_prj</span><span class="p">,</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>            <span class="n">units</span><span class="o">=</span><span class="n">VERTICAL_UNITS</span><span class="p">,</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>            <span class="n">stitch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>            <span class="n">hecras_version</span><span class="o">=</span><span class="n">RAS_VERSION</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>        <span class="p">)</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">SUCCESS! Terrain HDF created&quot;</span><span class="p">)</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  File: </span><span class="si">{</span><span class="n">result_hdf</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Size: </span><span class="si">{</span><span class="n">result_hdf</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a>        <span class="n">NEW_TERRAIN_HDF</span> <span class="o">=</span> <span class="n">result_hdf</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ERROR: Terrain creation failed&quot;</span><span class="p">)</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Troubleshooting:&quot;</span><span class="p">)</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  1. Ensure HEC-RAS 6.6+ is installed&quot;</span><span class="p">)</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  2. Check RasProcess.exe exists: </span><span class="si">{</span><span class="n">RAS_PROCESS_EXE</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  3. Verify TIFF file is valid (open in QGIS/ArcGIS)&quot;</span><span class="p">)</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>        <span class="n">NEW_TERRAIN_HDF</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cannot create terrain - missing input files&quot;</span><span class="p">)</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">DOWNLOADED_TIFF</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">DOWNLOADED_TIFF</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  Missing: Downloaded TIFF file&quot;</span><span class="p">)</span>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">projection_prj</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">projection_prj</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  Missing: Projection PRJ file&quot;</span><span class="p">)</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>    <span class="n">NEW_TERRAIN_HDF</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Cannot create terrain - missing input files
  Missing: Downloaded TIFF file
</code></pre></div>
<h3 id="fallback-use-existing-terrain">Fallback: Use Existing Terrain<a class="headerlink" href="#fallback-use-existing-terrain" title="Permanent link">&para;</a></h3>
<p>If USGS download or terrain creation failed, use the existing terrain from the example project.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Fallback to existing terrain if new terrain wasn&#39;t created</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">if</span> <span class="n">NEW_TERRAIN_HDF</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="n">existing_hdfs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">terrain_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.hdf&quot;</span><span class="p">))</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>    <span class="k">if</span> <span class="n">existing_hdfs</span><span class="p">:</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>        <span class="n">NEW_TERRAIN_HDF</span> <span class="o">=</span> <span class="n">existing_hdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using existing terrain: </span><span class="si">{</span><span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Size: </span><span class="si">{</span><span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB&quot;</span><span class="p">)</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>        <span class="c1"># Update name for RasMap registration</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>        <span class="n">NEW_TERRAIN_NAME</span> <span class="o">=</span> <span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">stem</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No terrain HDF available&quot;</span><span class="p">)</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Using newly created terrain: </span><span class="si">{</span><span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Using existing terrain: Terrain50.hdf
  Size: 4.69 MB
</code></pre></div>
<h2 id="register-terrain-in-rasmap">Register Terrain in RasMap<a class="headerlink" href="#register-terrain-in-rasmap" title="Permanent link">&para;</a></h2>
<p>After creating a terrain HDF, register it in the project's <code>.rasmap</code> file so HEC-RAS can use it.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Find the .rasmap file</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="n">rasmap_files</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">project_path</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.rasmap&quot;</span><span class="p">))</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rasmap_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> .rasmap files:&quot;</span><span class="p">)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="k">for</span> <span class="n">rm</span> <span class="ow">in</span> <span class="n">rasmap_files</span><span class="p">:</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">rm</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">rm</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> KB)&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Found 1 .rasmap files:
  BaldEagleDamBrk.rasmap (43.9 KB)
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Inspect existing terrain configuration in .rasmap</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">xml.etree.ElementTree</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ET</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="k">if</span> <span class="n">rasmap_files</span><span class="p">:</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    <span class="n">rasmap_file</span> <span class="o">=</span> <span class="n">rasmap_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">rasmap_file</span><span class="p">)</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    <span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    <span class="c1"># Find Terrains section</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    <span class="n">terrains</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//Terrains&quot;</span><span class="p">)</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    <span class="k">if</span> <span class="n">terrains</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Existing Terrains section in </span><span class="si">{</span><span class="n">rasmap_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>        <span class="c1"># List terrain layers</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>        <span class="n">layers</span> <span class="o">=</span> <span class="n">terrains</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Layer&quot;</span><span class="p">)</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">  Terrain layers (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span><span class="si">}</span><span class="s2">):&quot;</span><span class="p">)</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layers</span><span class="p">:</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    - Name: </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;      Filename: </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Filename&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No Terrains section found in .rasmap file&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Existing Terrains section in BaldEagleDamBrk.rasmap:

  Terrain layers (1):
    - Name: Terrain50
      Filename: .\Terrain\Terrain50.hdf
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Add the new terrain layer to the .rasmap file</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">if</span> <span class="n">rasmap_files</span> <span class="ow">and</span> <span class="n">NEW_TERRAIN_HDF</span> <span class="ow">and</span> <span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    <span class="n">rasmap_file</span> <span class="o">=</span> <span class="n">rasmap_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Adding terrain layer to </span><span class="si">{</span><span class="n">rasmap_file</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Terrain HDF: </span><span class="si">{</span><span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Layer name: </span><span class="si">{</span><span class="n">NEW_TERRAIN_NAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>        <span class="n">RasMap</span><span class="o">.</span><span class="n">add_terrain_layer</span><span class="p">(</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>            <span class="n">terrain_hdf</span><span class="o">=</span><span class="n">NEW_TERRAIN_HDF</span><span class="p">,</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>            <span class="n">rasmap_path</span><span class="o">=</span><span class="n">rasmap_file</span><span class="p">,</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>            <span class="n">layer_name</span><span class="o">=</span><span class="n">NEW_TERRAIN_NAME</span><span class="p">,</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>            <span class="n">projection_prj</span><span class="o">=</span><span class="n">projection_prj</span> <span class="k">if</span> <span class="n">projection_prj</span> <span class="ow">and</span> <span class="n">projection_prj</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="p">)</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Terrain layer added successfully!&quot;</span><span class="p">)</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Error adding terrain layer: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="k">elif</span> <span class="ow">not</span> <span class="n">NEW_TERRAIN_HDF</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">NEW_TERRAIN_HDF</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No terrain HDF to add&quot;</span><span class="p">)</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No .rasmap files found in project&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>2026-01-13 10:59:41 - ras_commander.RasMap - INFO - Replaced existing terrain layer: Terrain50
2026-01-13 10:59:41 - ras_commander.RasMap - INFO - Updated projection reference: .\Terrain\Projection.prj
2026-01-13 10:59:41 - ras_commander.RasMap - INFO - Added terrain layer &#39;Terrain50&#39; to .rasmap file: .\Terrain\Terrain50.hdf


Adding terrain layer to BaldEagleDamBrk.rasmap:
  Terrain HDF: Terrain50.hdf
  Layer name: Terrain50

Terrain layer added successfully!
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1"># Verify the terrain layer was added</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">if</span> <span class="n">rasmap_files</span><span class="p">:</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    <span class="n">rasmap_file</span> <span class="o">=</span> <span class="n">rasmap_files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    <span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">rasmap_file</span><span class="p">)</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>    <span class="n">root</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>    <span class="n">terrains</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;.//Terrains&quot;</span><span class="p">)</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>    <span class="k">if</span> <span class="n">terrains</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>        <span class="n">layers</span> <span class="o">=</span> <span class="n">terrains</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s2">&quot;Layer&quot;</span><span class="p">)</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated Terrains section (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">layers</span><span class="p">)</span><span class="si">}</span><span class="s2"> layers):&quot;</span><span class="p">)</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layers</span><span class="p">:</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>            <span class="n">name</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">)</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>            <span class="n">marker</span> <span class="o">=</span> <span class="s2">&quot; &lt;-- NEW&quot;</span> <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="n">NEW_TERRAIN_NAME</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Filename&#39;</span><span class="p">)</span><span class="si">}{</span><span class="n">marker</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Updated Terrains section (1 layers):
  - Terrain50: .\Terrain\Terrain50.hdf &lt;-- NEW
</code></pre></div>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>This notebook demonstrated the complete terrain creation workflow:</p>
<ol>
<li>
<p><strong>Extract Project</strong> - Get project extents from existing terrain</p>
</li>
<li>
<p><strong>Download USGS 3DEP</strong> - Used <code>py3dep</code> to download high-resolution terrain:</p>
</li>
<li>Automatic resolution selection (1m/3m/10m/30m)</li>
<li>Reprojection to project CRS</li>
<li>
<p>Conversion to project vertical units (feet/meters)</p>
</li>
<li>
<p><strong>Create Terrain HDF</strong> - Used <code>RasTerrain.create_terrain_hdf()</code>:</p>
</li>
<li>Multi-resolution pyramid levels (7 levels)</li>
<li>TIN stitching for seamless terrain</li>
<li>
<p>Optimized for HEC-RAS rendering</p>
</li>
<li>
<p><strong>Register in RasMap</strong> - Added terrain to project configuration</p>
</li>
</ol>
<h3 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h3>
<ul>
<li>Open project in HEC-RAS and verify terrain displays correctly</li>
<li>For bathymetric merging, see <code>RasTerrain</code> multi-source terrain support</li>
<li>For terrain modification, see geometry HDF documentation</li>
</ul>
<hr />
<h1 id="appendix-terrain-hdf-structure-analysis">Appendix: Terrain HDF Structure Analysis<a class="headerlink" href="#appendix-terrain-hdf-structure-analysis" title="Permanent link">&para;</a></h1>
<p>The following cells analyze the internal structure of HEC-RAS terrain HDF files for reference.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">print_hdf_structure</span><span class="p">(</span><span class="n">hdf_file</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">current_depth</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Recursively print HDF5 file structure with dataset info.&quot;&quot;&quot;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">hdf_file</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        <span class="n">item</span> <span class="o">=</span> <span class="n">hdf_file</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">h5py</span><span class="o">.</span><span class="n">Group</span><span class="p">):</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">key</span><span class="si">}</span><span class="s2">/&quot;</span><span class="p">)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>            <span class="k">if</span> <span class="n">current_depth</span> <span class="o">&lt;</span> <span class="n">max_depth</span><span class="p">:</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>                <span class="n">print_hdf_structure</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">prefix</span> <span class="o">+</span> <span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">,</span> <span class="n">current_depth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>            <span class="c1"># Dataset - show shape and dtype</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>            <span class="n">shape_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;shape=</span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;shape&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>            <span class="n">dtype_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;dtype=</span><span class="si">{</span><span class="n">item</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s1">&#39;dtype&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">prefix</span><span class="si">}{</span><span class="n">key</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">shape_str</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">dtype_str</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="c1"># Find terrain HDF files to analyze</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="n">terrain_hdfs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">terrain_folder</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;*.hdf&quot;</span><span class="p">))</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">terrain_hdfs</span><span class="p">)</span><span class="si">}</span><span class="s2"> terrain HDF files:&quot;</span><span class="p">)</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="k">for</span> <span class="n">hdf</span> <span class="ow">in</span> <span class="n">terrain_hdfs</span><span class="p">:</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">hdf</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">hdf</span><span class="o">.</span><span class="n">stat</span><span class="p">()</span><span class="o">.</span><span class="n">st_size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> MB)&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Found 1 terrain HDF files:
  Terrain50.hdf (4.69 MB)
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1"># Open and explore the first terrain HDF</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="k">if</span> <span class="n">terrain_hdfs</span><span class="p">:</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>    <span class="n">terrain_hdf</span> <span class="o">=</span> <span class="n">terrain_hdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Exploring: </span><span class="si">{</span><span class="n">terrain_hdf</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">terrain_hdf</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdf</span><span class="p">:</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>        <span class="n">print_hdf_structure</span><span class="p">(</span><span class="n">hdf</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No terrain HDF files found in Terrain folder&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Exploring: Terrain50.hdf
============================================================
Terrain/
  Stitch TIN Points (shape=(72592, 4), dtype=float64)
  Stitch TIN Triangles (shape=(72301, 3), dtype=int32)
  Stitches (shape=(103000, 7), dtype=float64)
  Terrain50.baldeagledem/
    0/
    1/
    2/
    3/
    4/
    5/
    6/
  Terrain50.dtm_20ft/
    0/
    1/
    2/
    3/
    4/
    5/
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1"># Inspect the stitching data structure</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">if</span> <span class="n">terrain_hdfs</span><span class="p">:</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">terrain_hdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdf</span><span class="p">:</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>        <span class="n">terrain_group</span> <span class="o">=</span> <span class="n">hdf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Terrain&#39;</span><span class="p">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        <span class="k">if</span> <span class="n">terrain_group</span><span class="p">:</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>            <span class="c1"># Check for stitch data</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>            <span class="k">if</span> <span class="s1">&#39;Stitch TIN Points&#39;</span> <span class="ow">in</span> <span class="n">terrain_group</span><span class="p">:</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>                <span class="n">stitch_points</span> <span class="o">=</span> <span class="n">terrain_group</span><span class="p">[</span><span class="s1">&#39;Stitch TIN Points&#39;</span><span class="p">][:]</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Stitch TIN Points:&quot;</span><span class="p">)</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Shape: </span><span class="si">{</span><span class="n">stitch_points</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Columns: X, Y, Z, M (material/priority)&quot;</span><span class="p">)</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Sample (first 3 points):&quot;</span><span class="p">)</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">stitch_points</span><span class="p">[:</span><span class="mi">3</span><span class="p">]):</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    [</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">] X=</span><span class="si">{</span><span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Y=</span><span class="si">{</span><span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, Z=</span><span class="si">{</span><span class="n">pt</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">, M=</span><span class="si">{</span><span class="n">pt</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>            <span class="k">if</span> <span class="s1">&#39;Stitch TIN Triangles&#39;</span> <span class="ow">in</span> <span class="n">terrain_group</span><span class="p">:</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>                <span class="n">stitch_tris</span> <span class="o">=</span> <span class="n">terrain_group</span><span class="p">[</span><span class="s1">&#39;Stitch TIN Triangles&#39;</span><span class="p">][:]</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Stitch TIN Triangles:&quot;</span><span class="p">)</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Shape: </span><span class="si">{</span><span class="n">stitch_tris</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Columns: p0, p1, p2 (vertex indices)&quot;</span><span class="p">)</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>            <span class="c1"># List source terrain layers</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Source terrain layers:&quot;</span><span class="p">)</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">terrain_group</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Stitch TIN Points&#39;</span><span class="p">,</span> <span class="s1">&#39;Stitch TIN Triangles&#39;</span><span class="p">,</span> <span class="s1">&#39;Stitches&#39;</span><span class="p">]:</span>
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="__span-18-29"><a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No Terrain group found in HDF&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Stitch TIN Points:
  Shape: (72592, 4)
  Columns: X, Y, Z, M (material/priority)
  Sample (first 3 points):
    [0] X=2075224.54, Y=371231.14, Z=796.59, M=20
    [1] X=2075224.54, Y=371251.14, Z=803.22, M=20
    [2] X=2075244.54, Y=371251.14, Z=803.09, M=20

Stitch TIN Triangles:
  Shape: (72301, 3)
  Columns: p0, p1, p2 (vertex indices)

Source terrain layers:
  Terrain50.baldeagledem
  Terrain50.dtm_20ft
</code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Inspect pyramid levels in a source terrain layer</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">if</span> <span class="n">terrain_hdfs</span><span class="p">:</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="n">terrain_hdfs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">hdf</span><span class="p">:</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>        <span class="n">terrain_group</span> <span class="o">=</span> <span class="n">hdf</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Terrain&#39;</span><span class="p">)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>        <span class="k">if</span> <span class="n">terrain_group</span><span class="p">:</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>            <span class="c1"># Find first source layer (not stitch data)</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>            <span class="n">source_layers</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">terrain_group</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> 
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>                            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Stitch TIN Points&#39;</span><span class="p">,</span> <span class="s1">&#39;Stitch TIN Triangles&#39;</span><span class="p">,</span> <span class="s1">&#39;Stitches&#39;</span><span class="p">]]</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>            <span class="k">if</span> <span class="n">source_layers</span><span class="p">:</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>                <span class="n">layer_name</span> <span class="o">=</span> <span class="n">source_layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>                <span class="n">layer</span> <span class="o">=</span> <span class="n">terrain_group</span><span class="p">[</span><span class="n">layer_name</span><span class="p">]</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source layer: </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Pyramid levels (resolution hierarchy):&quot;</span><span class="p">)</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>                <span class="c1"># List pyramid levels (0-6 typically)</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a>                <span class="k">for</span> <span class="n">level_key</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()]):</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a>                    <span class="n">level</span> <span class="o">=</span> <span class="n">layer</span><span class="p">[</span><span class="n">level_key</span><span class="p">]</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">  Level </span><span class="si">{</span><span class="n">level_key</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a>                    <span class="k">for</span> <span class="n">dataset_key</span> <span class="ow">in</span> <span class="n">level</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a>                        <span class="n">ds</span> <span class="o">=</span> <span class="n">level</span><span class="p">[</span><span class="n">dataset_key</span><span class="p">]</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;    </span><span class="si">{</span><span class="n">dataset_key</span><span class="si">}</span><span class="s2">: shape=</span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">, dtype=</span><span class="si">{</span><span class="n">ds</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Source layer: Terrain50.baldeagledem

Pyramid levels (resolution hierarchy):

  Level 0:
    Mask: shape=(918, 65536), dtype=uint8
    Min-Max: shape=(918, 3), dtype=float32
    Perimeter: shape=(918, 513), dtype=float32

  Level 1:
    Mask: shape=(238, 65536), dtype=uint8
    Min-Max: shape=(238, 3), dtype=float32
    Perimeter: shape=(238, 513), dtype=float32

  Level 2:
    Mask: shape=(63, 65536), dtype=uint8
    Min-Max: shape=(63, 3), dtype=float32
    Perimeter: shape=(63, 513), dtype=float32

  Level 3:
    Mask: shape=(20, 65536), dtype=uint8
    Min-Max: shape=(20, 3), dtype=float32
    Perimeter: shape=(20, 513), dtype=float32

  Level 4:
    Mask: shape=(6, 65536), dtype=uint8
    Min-Max: shape=(6, 3), dtype=float32
    Perimeter: shape=(6, 513), dtype=float32

  Level 5:
    Mask: shape=(2, 65536), dtype=uint8
    Min-Max: shape=(2, 3), dtype=float32
    Perimeter: shape=(2, 513), dtype=float32

  Level 6:
    Mask: shape=(1, 65536), dtype=uint8
    Min-Max: shape=(1, 3), dtype=float32
    Perimeter: shape=(1, 513), dtype=float32
</code></pre></div>
<h2 id="gui-verification-optional">GUI Verification (Optional)<a class="headerlink" href="#gui-verification-optional" title="Permanent link">&para;</a></h2>
<p>To verify the terrain displays correctly in HEC-RAS:</p>
<ol>
<li>Open HEC-RAS and load the project</li>
<li>Open RAS Mapper (View  RAS Mapper)</li>
<li>Expand the Terrains section</li>
<li>Check the new terrain layer to display it</li>
<li>Verify elevations and coverage look correct</li>
</ol>
<h2 id="cleanup">Cleanup<a class="headerlink" href="#cleanup" title="Permanent link">&para;</a></h2>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Optional: Clean up extracted project</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">CLEANUP_PROJECT</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Set to True to remove extracted project</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="k">if</span> <span class="n">CLEANUP_PROJECT</span> <span class="ow">and</span> <span class="n">project_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cleaning up: </span><span class="si">{</span><span class="n">project_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">project_path</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Project folder removed&quot;</span><span class="p">)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="k">else</span><span class="p">:</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Project preserved at: </span><span class="si">{</span><span class="n">project_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Set CLEANUP_PROJECT = True to remove on next run&quot;</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code>Project preserved at: C:\GH\ras-commander\examples\example_projects\BaldEagleCrkMulti2D_920
Set CLEANUP_PROJECT = True to remove on next run
</code></pre></div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 30, 2026 22:40:03 UTC">January 30, 2026</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 30, 2026 22:40:03 UTC">January 30, 2026</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/gpt-cmdr/ras-commander" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/@GPT_Commander" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
    
  </body>
</html>